apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"