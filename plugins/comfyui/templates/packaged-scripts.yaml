apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"