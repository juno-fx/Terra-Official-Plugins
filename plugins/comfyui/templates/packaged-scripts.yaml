apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"