apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"