apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"