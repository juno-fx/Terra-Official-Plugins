apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"