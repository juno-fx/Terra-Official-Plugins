apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"