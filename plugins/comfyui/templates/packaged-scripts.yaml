apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"