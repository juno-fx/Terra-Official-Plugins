apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"