apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"