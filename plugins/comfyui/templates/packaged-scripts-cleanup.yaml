apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap-cleanup
  annotations:
    argocd.argoproj.io/hook: PostDelete
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"