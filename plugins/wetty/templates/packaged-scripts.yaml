apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"