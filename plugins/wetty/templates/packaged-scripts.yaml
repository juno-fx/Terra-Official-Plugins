apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"