apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"