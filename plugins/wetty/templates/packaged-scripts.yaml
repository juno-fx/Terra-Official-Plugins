apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"