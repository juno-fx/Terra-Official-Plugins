apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"