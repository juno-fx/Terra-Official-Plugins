apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"