apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"