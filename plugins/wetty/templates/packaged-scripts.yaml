apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"