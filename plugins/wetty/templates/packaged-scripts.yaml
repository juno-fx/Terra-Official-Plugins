apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"