apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"