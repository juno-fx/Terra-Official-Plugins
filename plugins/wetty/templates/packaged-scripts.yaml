apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "H4sIAAAAAAAAA+1bbW/bthbuZ/0Kzitw74YrKY7tZNCwD0PbdRnWxEjS3Q7DYNASbXORSY2k7Bjp/vsOScmWZMlu2tRtUJ0GtcSXw9fz8DmHtgwFTZT0n3xEOQI5PR2YT5DqZ+G53+sew3O3ewwfaPAxO5VLKhUWCD0RnKtd5fblP1KR2fqHMyzUR9oFZv0H91n/4173tF3/Q0h5/Z/p/70VnscP2YZe2ZN+v3H9e93q+vePeydP0NFDdqJJvvD1xwn9jQhJOQvQoutExG4I8/5/MkZjLEmEFBFzynDsMDwnAVoSpVbOIq935ME/h4b6eaZUIgPfF3jpTamapeNUEgFZijDlhXzu/5Uy7k5u/WsiBHYvJhMaUhy7wzidUiZ9QSbSnxEcSX+OKfOTLN206efbFUtJ4CPmU+4lbOo4n3oeH6uU7V+ReRJjRR6WD9z//O+3+H8gaVr/0YzECRi4p5IPPgsM/p804/9Jv1dZ/xN9XLT4fwC5u/O/RdczKhH8cRavECMkAshPmaIx6npvvN91lkwZIC5SHCWCL2hEEGB5ghUd05iqFfrW/+cf5+7ORRGZUEZQR8O8B2VvV+dwZsgEh6SDXCiEkC72tJyFgh+Q9xuOUyJtpRFbZ73VOnEaK9TpoLUCOkGMqy09Jn9dIlc50r0ZTWFnL/FqBGdeXq6+Mz+gjhIYBnLTKSoksSR7K1I2FURKl8GpdVuuzqJN90svNYMolPmo699k/9kwHoQL7rF/MPmTLfsftPZ/ECmY0n/J3zsMRomUfKO3Y5ExMqKWXNzAZvFuvpMe5T5wSHiNAnRmN5AzJwpHWOEA9rplj3d362Z0Auh0LaFECDPoCNbsUwbGbm7SMRHQCjHK800ZxsD/oHVtYqaYefLy7HIlnKqZm4o4QB1NToGbAikdx8TT/bgkMQGG6xVtz5OLEJqAjUGEF/MQx0EP9qYPA7fK9JCl7aa/PRi/48iEhLr/Io1JNhAXzbhUpcHrhA2cmL5lzwgBss7k5lXX10kwBj/hMRZU1rTcKZS3Kq5XCUz4EDg1vS1ljnF4A/ASlBIRAqq+oCGpJr/DypUl4UJtKwE16RyWJkAwn92DQVwrO6QJ/zPLdmG30XD1YcfAPv436HfL+H981D3ttvh/CHlHND+3WUOzG+6D6TkUJjy6AqwNFRcWGOZYhbNf8RhIVY4UJjJA4QhY2CPAhAsKYAvoVw96GfDnSDsRfL5BHxetqWS5B7nU9CSX8kmSD9tbj5kyOCeiJrbrPQJoa7R/c6I+TCRwH//bjv+d9I5b+z+IVOJ/1tqfcTah01c4qbH0GhPMfB1nXdDsnRCUBOitsSiyIExJdGfJjqY66M7ZUA4i1q8IxRSIFzMU4ftq4h9B8GdQyQGCpsEB7SBGBe0IWfcyAQaJMj5oOJ6hZ4bnNev5fkuN1jDKAqHgLHe3S4DXPNLhTBjj62Qq4AE9NbVS+7azBiwEA8TSyjtZ+c52BQGFR4rOCU8V6veOjSnt1PvGvSQ4ds+G6Kkgc67ICEeR2FPlJy6WWEQk0k+Zz6rrjW5HkzxLP+1U87MmvXYC9IzvafIcdtIbd6gzjAOyKZ7TZvv52cPsZytN+J95Aofw/496g/52/G/Q4v8hpBb/r+zivw/PkyWK9d6MTjuQaz5nvEnrM1qjhxWbEjWsJgOAKB5y8PSvnw2zNNttGyn41HP9OUqT/ZtVdRUHwg/uwIehwF7/r3da9f8AE1r7P4S8H/8rhs00BmT7ZEMB5Qr42tyTs5wBfv2VP6bMlzPHkj6FXOKY5zBCfiqFL0Xo4ySxifrSGKgFcp8jNy2BRJJSHTLqIPdlKX2apxcTtRqDKJaFhjNelx1oMgioFHXQWxTOzFtkq6ywYEjvEOivq+/CdwfgoBCOY7506URA0iO4lm60/w1IfzAH2GP/g16/ev6fDk5b+z+IFO0frE9uQj5XsPpkksZXRL2bG9ipC+B/re8J5xgsPsECFEbGlUN8YkxcIjXDCoWYIRyGROp3KlFh8yEskfZvzN2k10wqJOxfAr3uMM5Ip7ncTUoTIlytvTKKkc1ax9EbuUvMsW7oxySJqfU9O3qccyxubPehyxjlJWFKIkTVf2Boq4Qg8I+gENExKv2VmAi9PoPW4kL0qbZdWBpoMkOePf3bx60aqur1COrRs3nWYcm2msoSLe6ur0KImS0ZoK6zRRMfLhYItXMMy1QXdq6WuBLna57tbLJ3l9wzaR82EpimbPa0aHd5p+2ZwxR2FaYMLKsaAC1el1mhczzV2kx6YGBfdar5wzSObdQ3QGeTc66GgkjCVNFv33D1TZPrjmyx9FzqO7XgcTonr3jKtnXW1zCrrMsPzQWZT1Roo5f+Jg5VveZKx7ZwTYm8merF1tZs/Bgv8UqC4V9fPL9AcklhD+vvRxRnyZi7nllhkQH+DADATANdqlmLwsoKMgWkFCt9pVhKTrjmLIUkhaeV2z+DudXrPRcVKZgVcKS2ptlfk7f7L/JR7SIvKFkSUcgibFG/uL+8Pr8YDS8vfnnx7LqiaqEH+1MptJ/LhJI4uiSTuitHk2dXuxS/NzH62j68vnpxWdf2Hjsvqvj54tWLBhX+jM+J/66Khq/Pnu/vS86J61W8fBcV0zoV+oZWYDYl62KwcJsr63I7WplBo7fo75QrUi23blYXNI9NJUvfj1lX3gsMmROyAxrqNraWNR40FdAM5AIISGCikFudLXzTqNjNunEp/juw6fribxED5qVho3u8d05szRqY356GMHfnyvPWHM9fu3NV3VXsvbfm7KbgnpPXOHHFOfuuWiObrkfghH1CKft/Czu5D/wDAOP/7fj+f/9oUPH/+oOj9v7vIFIkO4bMOppgBA5wCv1oKUjgTAVPwcjDJAW77nbAIZxzSIfnl7Sjk3+lcwoUgAFByjKLKVNdb4JjSRwa3QboyNHnjf5Msk9z/QZvMfiboSDwnPsWTgn50R9/Ojn06eeMSRT5gwGB/IjTeN1xNu5G9nMCUzfz+IIvGSBy+wcEFauEU6bg9HvgNvbFf/uDSvy32ztt4z+HkSwuO8bAeZwsLGvjpFc66gksAG22BrK7xfM88E/B8dFxDLBYlP28R+qwjg5uZJsKRVQYs1uhJYViYwKVUpbo7x5G2lXSZcNUCH18b8qakJBxl6weqCRSBs4T89AZsznkFoOXT/4HyGV1/wXraENLoBRqbNRJjlY8NTEmSYhtM++vjs2MAeQY1BinNI70eKG0QHhJJBB1ZPHiKyeWyI3xl4wUrbTSSiuttNJKK6200korrbTSSiuttNLKY5N/ARg5LokAUAAA"