apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"