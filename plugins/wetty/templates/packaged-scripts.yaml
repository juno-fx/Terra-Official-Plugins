apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"