apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"