apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"