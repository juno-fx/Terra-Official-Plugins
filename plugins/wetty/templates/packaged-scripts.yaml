apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"