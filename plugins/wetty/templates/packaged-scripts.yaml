apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"