apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "H4sIAAAAAAAAA+1XW0/kNhTmOb/i7LDqRSUJAQaqrYqEgIeRKF0t0JdSIU/iYSwSO7WdgWm3/73HsTPjGTIDrNhuq+YgkYxzbj6X79gqlazUKt74jLSNdNDv10+k5af3vreb7OB7kuwk+xvQ/5xONVQpTSTAhhRCr+N76vt/lJTLP+VaTkvBuI7U+JVtmMzu7+2tyn+SYLIX8797sL+3Aduv7Ecr/c/zv/kmHjIeD4kaB4GiGkIa0HQsoHeBcdGM38K8NMBWSxRFvSDYhHRM0zvQY6LxH4WT04vLwfnR5eDnc5SZMCl4gbIwIZKRYU6BKUALARvBrxD+Ab23nkQPfvvBaOEBgLX/HHVcaKMygtMHZnxFv1Ac3yEJRmzuI5o0Hg7OLy6Pzs7WeVf7AFWZEU1rGTVVmhbOaY5O/+m0/OW7DBDFjGMp5TmV2EFLm2tz5vjs9Oj86v0zQmWsOm7f5iZIWoiJdfOEKgwA0UxwyJikqRZyOovlcU4JN7msypo7a+Ou0wogCwjlaHEDcSqK0bRivUWNqA0/lDnVNIvMJr90NXf0Umrw3y/e17bxBP73d3eSZfzv97c7/P8nyEE+gtOwYnnWwB0ptQPB+tVVB4RTuGU6CBwE3pwMPvy4AigQ7TLQYjXcBMUdvkNYLmMlyi2tWMjxtDRLbWyebzO2hTX0LBfcwqakpVDMuGNgGedGJqjiX2szRBTOlcFs0a5smV3hJBRmmfCsmRSswWr0vQnBo4l2bD5cDeYhAJJLSrKp1a0iuDLazByzUIy2nDL8gYGHssIkCMluGYeCYKZkQHNFPVQWNcw3lubbcxqNErv7sdalehfHuDKuhhHasbkjXPBpISoVOyWRkQnDjJZ6DInnkOedHW8lmiPSBrac6jFm2xtuQcnKWSFVEyPQ/HLMrlpcCW6ajPiZi8vpjZOIUysS7kbJTpQkYc549RA+fL9/s78X3vLKpswcD1za6rHe2Guy9abO16faeJzggZU0GXhvt+RkXfSrSbPVWUONcNhCyGBut5FZzOyivlnhNLBtx299xsAP7uiCodcVyRdOGC1V7scimiBzS+UapWZbLSrd3izjlfI2P5KiePfJKazPpZbHxc74BrWHFjVeQ/FCkH9pCdhSi9ZhVqKSKbWu1NpIqtnEgKXJsFfmYchFmBI895k0S/p7ha1v1KpIP2i/BVwnYVfzW+xq01s4mURxwwXiXhDUjSv4iN3WIBBJikd2CiNi/H90tLSdG/5EOEFtHuDYXWx5ZbAF6g49Ti1yPEKxsLA6VqJZi5GlkJn6WIdSMw0vQ6tcZxLRksTLapY8NwmbQ9Vs9TGcMv7C9KHWKIpN9JFZ3NehF5UuKxPhAvOW49NP41Y9MhhHjlm4GOIUAt+Y4EH+XjJs3ZLKgimFY075M9Kv9kphRlZ9RPAscYqO0QMIP8BBv98qvYbhSQ12l2tZ7P7XsvihWctYR6y+cuJkKM0lhvjlhjF1qEfAXGTdNdXeTO+Z6a7ZUYQMlcgrE2WC40zU/YJ6W08oUOaVqqWa7lw0KivuYYBDdlNHUTnF2smx+nHobEf1n62WwN6uJkb2xmnFE7c7p3iX8R4ctvOgmuuF6Fz3kHcF87O9wwXKzc0zTIVU4Rj7Fzvp+u03qLIwew0ngKCYMRKqgsFhnNFJzE377Bx+lcDHj7a1wzAtq2/b/MEYF+TOXalteugDTSttjLrcf/fwSGrx4OT60qbJeIWn16U7aPClD9QdddRRRx111FFHHXXUUUcdddRRRx119C+ivwFtlZ4bACgAAA=="