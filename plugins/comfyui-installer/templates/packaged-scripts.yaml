apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "H4sIAAAAAAAAA+1YbW/bNhDOZ/+KaxKgHxZJcZuXocUGBE0+BEizYm32ZRlSWqItLhLJkZQdr+t/3/FFsmwrqdMXDNt0AeJY4j13vOf4kIxOFZNGJ1vf0PbRjg8P3Sfa6uf638Phs/2DLTj8lknVVmlDFMCWEsI8NO5T7/+lpgP/lBs1l4JxE+v8K8ewpB4dHNzH//HR/uEK/8+Pj55vwf5XzqPT/uf87zxJRownI6LzwUBTAxEd0DQXsP0W62IYn8CiNcB3SxzH24PBDqQ5TW/B5MTgLwqnZ2/fnV+evDv/6RJ9pkwJXqIvTIliZFRQYBowwoCN4VeI/oTt3ZbHNvz20qLwAYCPvwkcF8ZCxnB2x2yumBe6498wHIzZIkcMaTM8v3z77uTi4qHsXA5QyYwY6nz0XBtahqQ5Jh1A2gnvwKhiRVaPBSDSBIzwhXFss6KAaA4TZgbOJ83ACBcjoxqzJ4YJDhlTNDVCzXFMeYvfIJIrpcI36LvyzEMWgvu0FZVCM4tjJ48FyQTV/Kmx1dFYsPPmoX+yZyGRYmEfE57VJcBkAfzkMWQqyvG8Yu2513S9sq+uzhf5AykUJdnc4+sYriyiJSl2NLlJBED3FQsDssIiCcUmjENJsJrKElpo2o6Ek7R9WUdcTLVBtlC+FrkxUr9IEnySV6MY4yUuJuGCz0tR6STAxNYnijIqTQ7DpcSW8rRtZUstMSxRvthybnKkrtVWOEQy2dBeTb1T/T04BPqbttmxlW7TmoS4iZzfBN8k9c7R83j4LB4Oo4Lx6i66+/7o5uggmvDKk2pXRiDWdXQdecHnE8fol0braoVz72s5euMnGrwbfqppXYJmYYwhwlZnsIhde613wDJq02jBj2YuSk1Uii/DWkZ6TEWKpfXfsTqWKxRPcXhnx1tgO8kO2GamfuiVbhVjrET54otpdrLtxzQ1tZmCy3dNNL5CiBUSfuko5sqSDzQAaFGplPrUHCpJDZt6ebS90FoqUcRFlBLUbdsQiv5RoaBYcB2bO7O8jMKcUCn4xCmFXam4oYvyhgsUVTvaSYHgYzZx4hIrinsdhTGxs/EN0t4ighpErwkniNmSMz+nvVbD7IG+xcxTr0cdOhmVHuUBvewItFJE30kPa2CD8lgtLEymUJVJsgq0MoOayIUUtt6sCzfjjybWYcdx0s1whqVQbFQZmj1A2uli1GcS14H0EHndAT+HwDbSY0lUYkSVmYp50oFm97VmGSI4SuxTncwYz8TsOi5E6o4d17HnLrxonse5ouNk8rQrz2RGR8lEVpJwWsS/63aAv3DJaTwDqQJ+gPc2Z0x590MutPn4YvfDTKhbqmIplPmYSNRDad6/XPbBQSup+Aw/JlNGZ1TVaAv3jbNsNxo2mZi5JhKVkZXtkxKlo8DPtpLsuTMR4ziiIZrhNos7eE6mFGaK4R4jqSqZ1pisvvf01ghxpVEYPj0MTwbSnfhyzAuin+H4+PgTiBsMfQSqr8uGg33tNhzcLvCGLo6BcNjFQ5PEYyqQ9tJDlsKGT8BeasKVxd9SZsxKSnPsJiMtisryRvDMJ5yWOOTO8zjIotLObyFK7bCq4q0NLhxvrBTGco7iV2BL4jlsP3Y/dRc2t53WPWwbfrRgNyEM3sebUehz3VmY6230utdt47TwAeX2NhSlQukoRxmzu9c6sitTSW7DHcnXmN7RtDLWvSHzu7sOz+ULQ5B6X21bSLyFIavoIgtq3GGu4yr36uLs5PLqzQYXTXtnC6OX72y4+4ipn8DpPRewWqspcWKNad17XQtSrUrc3cbrF7YW0vrk/ul/AvTWW2+99dZbb7311ltvvfXWW2+99dZbb/9J+xujAAL6ACgAAA=="