apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "H4sIAAAAAAAAA+1WW0/jRhTmOb/ibKjUh2KbAIFqK1VCuzwgUboq0JduhSb2BI+wZ9y5hKS/vmcudpwLm1Ri1VadDwnH43P55pwzZ47KJWu0yg6+Io4RF+OxeyLWn5u/R6OT47MDGH9NUi2M0kQCHEgh9Jfkdn3/j0KF/FOu5aIRjOtUlW/swyb1/OzstfyPT49Ha/k/vRifHMDxG/PYiv95/g/fZRPGswlR5WCgqIaEDmheChjeYVw040+wLA3w1ZKm6XAwOIS8pPkz6JJo/Efh49Xd/fXt5f31z7eoM2NS8Bp1YUYkI5OKAlOAHgZsCr9B8icMv+lpDOH3H6wVPgDw/vcxx4W2JlO4mjPLFXmhOv6G0WDKlhzRpWV4fXt3f3lz8yV2jgOYpiCaOh21UJrWgTRH0sFIn/AhTAyrilYWgDQ62AgvjGOZVRUkC3hieuB08gK0cD4KqpA90UxwKJikuRZygTL1M75B0qyFCr+g7tqaN1kJ7mlL2gjFrB27eQxIIaji32obHYUBu+4W/cqRNYkpFnaZ8KINAZIF8JtHl7mopwvD+ntv0/XBfnq4XvIHUklKioW3r1J4sBZtklKXJreJYNC9YmCgMRgkIdkT41ATjKa0Ca0U7XvCTdq6bD0ut9pZtqZ8LEqtG/U+y3ClNJMU/WXOJ+GCL2phVBbMpFYnSQra6BJGK8RWeNqysqFu0C2RPtjNQpeYul5ZoUjDmi7tZuaV2vegENLflY2ZtV+6eplCghXAcP2xXTtNRyfpaBQyjjEOlYrOtSHVSnVvyX2bz3cuo+kMxbfm0xq2Yd5itouzF31QVu6TZz6Von4P/drMQvCy5R6y3O8zCXtJKsbNPJl/f/54fpY8ceOakpfxnjA0lik4vhtH4g1crBXZr1uCuVbQQ18NAEoYmVNPzVkluWYzf/htSnuFkCRcJDnBrmTzKukfBo+LNa5SPderRRL2hOeAP7lzYOsQrytRP3KBLWOwo84rXUg8caSt8OQnwglaag0ntX/fxXJNPNtg7ZilqWeP+uLF1aMwujFaHUGNbCt89skfuSbDOEp0LYNhM8IjUZIZhRfJsKwbKmumFPZF9Wo77HJvFJXD3WJ41BrXQkvkBckvcHFxscPiHqJ/w6qPy57CPnZ7CvcDvKeKy0C4PbALNdj3gfSbOGYp9BgCdkoIM4C/9l+YrdPuHiMTJSpj80awiQp36TrLWy84aCqjnF5b6atupeG9MxUaY00YT5sFlmiFhxCv6uPU/XVF2B7g3mAzhB+tscfgBgfcTgp1Pm8NzOchar2qtjetbUZcRGryHOYLH046p7nRdhDp8vbdfIvm6mUbDqwPrI0ZTjCYQFRpKqppgT1qyxj04ebq8vbh0x5Dmp13gvTqvIPHX8z8Bj6+Mry0lzUl7rZGWq+OOuE+kTW2m+nmsNOztLm5f3qAjoiIiIiIiIiIiIiIiIiIiIiIiIiIiIiI+JfhL4upA4kAKAAA"