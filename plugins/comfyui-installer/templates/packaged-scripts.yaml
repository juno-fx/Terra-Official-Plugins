apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "H4sIAAAAAAAAA+1XW2/bNhTus3/FaVKgD4ukuJd4SLEBQdOHAF1WLM1eliGlJdriIpEcSdnxuv73HV4ky7acOGiKYZhOgNiWzo3nO/x4qFPFpNHJk28ohyij0Wv3ibL+ufl9OHxxePQEXn/LpGqptCEK4IkSwtyld9/7/6jogD/lRi2kYNzEOn/kGBbUo6NX2/AfvX7xcg3/lyNUh8NHzqNT/uf47z9NxownY6LzwUBTAxEd0DQXsHeBdTGMT2HZGuC7JY7jvcFgH9KcpjdgcmLwH4XTdxcfz85PPp79fI42M6YEL9EWZkQxMi4oMA0YYcAm8BtEf8Hes5bFHvz+xnrhAwAffxd3XBjrMoZ3t8zminmhOX6H4WDCljliSJvh2fnFx5P37+/KzuUAlcyIoc5GL7ShZUiaY9LBSTvhfRhXrMhqXQAiTfARfjCObVYUEC1gyszA2aQZGOFiZFRj9sQwwSFjiqZGqAXqlDf4CyK5Vip8g7Zrz7zLQnCftqJSaGb92MVjQTJBNX9ubHU0FuyseeifHFiXCLGwjwnP6hJgsgB+8RgyFeVkUbH22mu43tpXl2fL/IEUipJs4f3rGC6tRwtS7GByiwgO3U8sDMgKiyQUmzIOJcFqKgtooWk7Ei7S9mUdcbnUxrN15WuRGyP1cZLgk7waxxgvcTEJF3xRikonwU1sbaIoo9LkMFxJbCVP21a21BLDEuWLLRcmR+habYUqkskG9mrmjerfwSDA37TNvq10G9YkxE3k4jrYJqk3jl7GwxfxcBgVjFe30e33R9dHr6IprzyodmcEYF1H15GXeD51iH5ttK5WOPO2FqMPfqHBusGnmtUlaDbGBCJsdQbL2LXVZgesem0aLdjRzEWpgUrxZdjLCI+pSLGy/zt2x2qF4hmqd3a8dWwX2eG2WalXvdStYkyUKI+/GmZH216nqanNFFy+G6TxCCHWQPi1o5hrWz7AAKBFpVLqU3NeSWrYzNOj7YXWVokiLqKUIG/bhlD0zwoJxTrXsbk1q9sorAmZgk8dU9idige6KK+5QFK12o4KBJ+wqSOXWFE86yhMiF2Nb5D2ERHYIPqJcII+W3Tm13TQapgD0DeYeer5qIMno9J7uYMvOwKtFdF30t0c2Hh5KBcWJlPIyiRZd7S2ghrIJRW23mwSN+MPBtb5juOkG+EMS6HYuDI0uwO006XWw4BTJeY0mXU5wreFhqggg221b0fdqP+d1VdiTJWZiUXS4cseSHbroFekxec6mTOeiflVXIjUjQpXsa93eNE8j3NFJ8n0eVeCyZyOk6msJOG0iP/Q7QB/4zbROLeoAn6ATzZdzPbZ51xo8+X42ee5UDdUxVIo8yWRyGHSfHqzaoNKa6n4DFFfFDhn6drd0n7nNNvdgZ0h5g55URlZWXBL3O8Ffra3/4EbZBhHjaYdGJ6NeOzmZEZhrhgeDJKqkmmN2eqtI1fDnpXG3Xy/Gh7n0o1pOeYF0S8wGo3u8biD6gO8+rrsqOxrt6Nyu8A7mjgEwoSKk47E2RJIm/AQpXBKE7A3kXDP8FeLObM80MzKZKxFUVncCA5qwhGA89w5RIMsKu3slkzSDqsq3jqVwkxi+SuWC2SsAlsSh6fD2P3VXdgiDLS/Dp7x3txQROtWtQc/btNCZ1edFbvaQ6utZjvniw8ot3ebKBVKRzmeKvYs2vTs6leSm3Dj8cWntzStjDVvUP7utsNydfwPxO1hsBXGOxXCjSayoMaNZh0Xs7fv352cX37Y4dpob2BBe/UGhmeJmPkFnG65TtX0TYnjb0xr6+UrsLeHefP61fK0ubh/+0rfSy+99NJLL7300ksvvfTSSy+99NJLL7304uQfDiD4wwAoAAA="