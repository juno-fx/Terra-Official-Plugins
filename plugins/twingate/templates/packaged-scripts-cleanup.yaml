apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap-cleanup
  annotations:
    argocd.argoproj.io/hook: PostDelete
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"