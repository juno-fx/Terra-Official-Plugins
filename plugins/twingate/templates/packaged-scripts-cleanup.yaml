apiVersion: v1
kind: ConfigMap
metadata:
  name: twingate-scripts-configmap-cleanup
  annotations:
    argocd.argoproj.io/hook: PostDelete
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"