apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "H4sIAAAAAAAAA+1YCVCTybY+SSAoAYKogOg14IgoaxAUuIoJ4joqi6IgKmGRYZNNmGER8gd0RATF0UFRQRBHRWYk4oKCSKKsIgIqiKAQREEUWQJEEsjyOsy99arm1ZtXr97MXepxqv76u093nz59Tvfp73SEz/6AsMgIM/gTiUqlLrVatkz+l9Nv//+1bG6+lLocdJf9mUr9nb6NiPTar6sL+0NDI3+v3//U/m9KEX/zv1dEhO+ftQ3+9/5fusycOuX/fwT9xv+RUQEhfl6RvqZhIX5/2Bxypy63tPxv/G++1MJ8+W/8v4xqaQ661D9Mg9+h/+f+T3ZyWK+qrKOMiqobN6zZCoAH+TeNiH6j0U3j6Dc9bMPOCADSTPmHg3OZ2oiJi9i6fjUU1M/7iCoKfnZb7AAK00hiL0WAWT4b19i5ROP62/WidlS3ETs/3j2ehMGV5ebX9Q/XLMKfqKDrZ1St8zqYr2K4gfqThkpN4uKa/EYGfUJpXPDYZtDmNv3k2NMOi1tjEXuCCjVX7Tx7gGcxUueKSS8DXBMzcPB8BoCuHg5AQ2Oq8C9SyBuopmDG1dXViv7rAfJFQ2/ti2NGvhG9TaIoN54GcOEPdz8Z7r/LO33p0iX8bQOASym1WETErVJMVgbxQlec9kZjYdTAmyVsjweGdIYlcBfnDnOYkpJKyl/1AQ6m2DMNsd7zJuBJNcQy1FSBesSv4UJW5vBdYbnlNOB+X9EuzROHtpd8O4x56uzDgVFKLU1tvLUv6eMzAKPk+xJn0S6x1zkkeGtuD6+93SQpKUkxwxQH1nfvhvIu1A2PNZNf+JHAWiudVpdCBOvmLkVay4SnBxqhZeIxdEtYLkbz+NlGD3GtGRnmu4DL0/5AsvEHlmxpvdawOrBmVolWmxaBbjFS5M09544HB1xZKy3hxKuuEE4lZfgZ0Fc7j1QvkU0DugMeFvpkmqnvw9EX8CsHQ2jqqB/dRRo12GGyfv16RV1/8OzRfBdnIuVWK0CGeTptSL8IPA+njijWLwBu3Zru0FxKmOYuoH5lXm9liKXQwjRVoY4VXsa9iYJtOFpclQi/aSZ45ub2pNXSBsZ+Fif4tuJZ04/WysYFfQVjOKMXwK0wli+MoHURx0o+cg6Lihrb20DpzEUzgpkQZ39LEbK2iQg+jUC/mjucxma+i0sw94cc+xQtsbGU66YAvXUHlcilnUqp9ZoQ+YjEpG/RgV7uLb8GFyl9Ox4s0RJseaSmRUD/ylmEjTy1MmgR1+gze+Q7xV0DchIq25lmwu6b0eV67hT/p3r0vMWBUuvuwZ9p2ffa5phZlbTbmSlAXoU1r7QrhdF7yaoIchKF7wZDsFX1MY0WqpC62FCWF592/LhycUVz/SBH1tGvVnIZx/rBuErkLo5IVuQ1O1yhE+CrI7UtGwfjNK+KgwVURR3QPhHkERNTdPbaM+DSd4/ULgmUtre374+OdvP8WgG0WUEeNsVtj39EFiO5uUg1ZXEu0s1ZRNjx/pyrA3/kOJtpZrX0Wx1wO4nEmBR85y4+S1AFY71PHXOtQqIrDC6iBUkf7vaHzszSzjMvujKTKrOL0VRz0FRPbMg9m4G17V5P+im/84/pwDKj1lsZfFhZ82gOCJMql5mlyFd3IpkIq7wzQx0MsaUa0ElzkdrYfLDbUQQbzMqkSOi2Q2VPn25JoS0JgA1bunlV6Uautd1PzmwymjHe9YEZGemia6QKAaLxIB8/v6ul6CTtBLfUkTvCU1lEVmSc5M4MkrSjw6M4atAjoNKGLKTgWC6aPnviBS13iop2XFgV717g8cDd/Uj2WNaKqJVdBEqhIl3HvLZlol9QqSVL0TI7ZyL1GDrY8AJOrG4qG4humZ0ue/jQrrWjw/S6sLj8zHSoa/POz2ZzSgr23N8x3za26fawVb2Wgx+J1Xp0LV2wi9FXixU2+/CTXgRAxuVXYw++7Tvtt9vo6H0Jv5lTWOjsTq3XOv0VUFcUxDa32HcPfqdkXK0JtzQYLE1ZyfxVca9uDzNKO/34Sd3+kHFMe2DmBKfpmX035/79Pj81Iw3IWGkg6Xvd1vbXneJdx0YEiZTdmSawKJh/MruSc9xt6NJw2jXmdU0snaZiT+DutRFud3WRFg6x2ewzmpa2VGNVOLWXzzYa+FJNknd7F+cVjYdTPny2QaD0VV9aG2d7N8VqxcrXKuW3FLk/GX8RmxDfjSRS6s4TWRsLhS0z0mXnrUKRjRou2G4TlddYwuZ1b0asePG7nUdoMcM/tbZLOxVpefbgqeFNecU9Ex7zkLwfmXisK4iKh3etr1/3eWeyKymfRJ8aOLN6XeJmMyWClu/Dox+ysxiY5M7OzkRPEivEpGDC/HieeJfDqEW9VttNRfrdrieNXdTjlSSmSbWo5DU5OAB6txqrq0lU2UnhZeHn3/X25oGc6RA3+6+jVqVZWVmm8pNykYyH9uRKWtmsOVVdipzTDWP54ou0Iuj9ukmaL3u7plsmFkWg4+/oD71HP2HWKAK4m0idRdUmaim00Y0EulXmOGVdk3hiYsLggPQ6ioySmdC72licL0tBZgnzKJLXpGVSsyoSk7vUEiw/9Mm8c4dp1taLX79+ffn7OmThWgU4l1LuXSZ1fYEcrkjLWLQL9XsvC8wdHkuk3DBUhS2VZYVsWfftVd2UdNnAQEHw3AxrHOvKfBpztzXn5cF4FIpGvEisb7xnmGtJxUVFRefUvuxE5xfLUFKFpxVvafV+oaGD7xkkpLkrpy+eaqYD5wqT4opeDaatj0MrmoxsVBriHmF/nVL70ZtDKxDeiS2zCvG7dxE3og+Nh8ZlkSaDY3NR7H+Fz0nOZo5fG4oJf8BuljDTae/1oLHCjCPeKnT5LKi+gH2WtGiaCYNDQi7sa4ARtPc/eSeY2w5su+4w/rNYzwCH6hkqmBZDYrJoYm031vfShCE5ccIE8kcui2gpQUwTTZn1W/ZwUqkluFzFCe+6iX1+Ce0PYhInwI5A/xaFUf37O1KwQ2ZXxQm64JROYPVrYrfECWmt+BxDAbZESUmpWUt2r0sLB552kJP/WakeHR23ort3N5nw72DvqlRbTBMc0Try60jOb/gcFA2u6bed7mth7xInNGhAnmEQQZ2EPdWj8Z977+bf4pHjkoG+fU4DVJSvcpa0aIxNDHY86GPSwgz9wHNNikF8UPgrsrWZKmyXfHkdqn/K3XG8qoUZJ0DiRp6D0/YrevTCD4x3JQxjqdoE7glibbli+zFPGjRvHF3xmpjnbB0EHyRjvE2a5h9D96VU8jb+ynv8HCrOyF5NIF/KL6j8x+oQ6CJDA6bhQaWmi7z5ewBCa1ub4YoVK3yNn+VU7EaXIlUBxwrsWUXwxDBO6pIB0Yp+sspaYOHelMUfaDqImXeMyY/DJCt1p6Q6kjMNwB4F20R5zFq+fHmtdhf/p4xBMtUSB6b+v7Bl1p+jRnqe4qlEVNcdkKTNhtwvUV0U7RQALXWBTNubJxsaugGpSCLpHiZjznGPE6wYVUrdAqzZayW0qghOodAv1maGvz1iVL7nXFzbzx5XClQHz7U+CtBMc0KCjO7FiYY7o2RZqEEDPBXtzVBc+lmacE4B3B42tsi8+WMCctNC4CofVoHwLl4Lzek8wKajEpkeW1ZphJVJE9pQ1+dtbe5zTp6S0Ul4MA6oYcvOmDHGx5XOobk2urI9TOxjxMJwnL8dsPRV7yh2DlEaTyIpOoEkXTUZ7jYCGRpdRLp4biLA7YXyiiL3YmmsIB8mm0z3lLgcVr8qsxWRJls/ywgReuh/uE2GTXwJxvlvRGJVwom6+diEjB6ENPA6QuS20BoJODhNrdDjIqAzm/USqflIXZX+BsB/i3zAM5hHoWjJ+Xl1mjDZOezZGfgLKMTqAX3tFRnugTrkLBDQGkk4MHwOIK/mjg3ytFjzp0GYg30dhCmq96Kt8MGyQgV2AV2OHnrTaNLFYCsf+SuHRZw37fIyJIGvROlNlmc508EpeS7QHVHvNQCxCwBhNZQMLVz4fy5YhnXXpuNNpgOcOPHrTKC6uyyumL4JD3QCHq4jRvpO8ccEAKfWy5vOKN9ehOByj7Iu0ncSWucsVZXrDob3YwWBCcg0rNo3+BwlNNo3KChI0R1lZoYvJm2Vc1MgEODlAmcjgcgITj/MhdHVgCzQdidIMVYXCX5PlNsMDPcTWR5os6evkQwq605y+AJHtHzW1yhoKk8O0s2XHTt2DD/ZKBy4P6g8ikyT53ngwH25nVg/7CneXymltaNsbN034xRblAmsQ3HFNccKD9wjXX08An10A4D2s/p6h4T5SKmvkssxPDyQ9/MezL4g5wwJHAeRqBkrY0fz6A2olNBeFv/6DVaCEgSVxfMlhWMNs5CWhKOVvAfYFTqStkFFIocsCUuQVkT1Zs5BbDNyIJUlkcQ3004hv+12apIOiC2WISUUK7jZSWSKZoYOin5rC4U0TFrKnYXmNYodH70Wjy3aBOBmlylkMBhmVIRWuSe9X6XZY5uzAG4cchMfG/dVQypF3BRaGKBGGzfx2bk46FTRxHo2IPYRm0G08cze+/D9CqTbWdsqSaHh3U/iB+OMpXVnieAwAxMzSqO9+I6LqyYQPERYNW5davQxthQZdbVpYftMs4niDw1vpsMQmX9zV5yocjXddIbYu5Q9HdurC1xM+KkhmH8jrX/+zTAiSG/eubPdg8MM5jsG8kfuCk+hKByIkglXrKnMUJbpfb+6ITt1H+7E6b74YpvP67/Dw8cKilT4KaWc+X4vh4Ja6lA4EIk+ZJtIkyu1OBKmOmxYWDbOK415R8a2PhNXhGW/+lLIIyN4yW0PEatxr1pCnbuLxHlsvDy7Bd2/KwC7ivM8rSJ46OVonQXcz9rdm+Z9Sa3lxZCFS3dB3TpjoeOFlTY2vb78BiN8jta8t/t04JuHTpQFo3+ZN+/H/v5+fOYWAvcnBJZFXU9M8J51UTeE5SKE/YwZkkPTWGrjD4cRSELI+tEk8NlxCee5NXNgEcrromuqvRzdEGx9TK3VQjDBWgdK/PLIdhOE8ufQeKdyMSMFC+EfyJEkeCFgc5LNTOQRtNOIrAHhJ4N9wcEiW9YMxD/Mtk1cH5ejhmOZVrRcONWuPaAgQBffNbehd2Rm5kCR8EPPDEreJgLdouzLtCJmjqoqNM/pfpJIyG48TmTlxwlmrmwn9ccLPjCUXYbelic1TYjNGGXG58+f11+hpz6O0FjgvOHyl+TRck2gllj3alnZvmxpITUi4EHNr7SjIZi0lgCpjwSres8TQTvTRtpIw4F2nXfVwcfHG2kon9TdPXgwAGWrWj2xlM1pRHA7iwDKHh3w1C8Ye3g7AFiX73UojeTgoD7Yz69asCpjuiqEXbn3/C6Hg2kAKwaloNuKUY+9JBD+UulEQdnrBZS9Grx8+dKhYGyn0KsM1XgVgjKr0A43sVcPqk1vmdDVUoUh3sVVmliNPQGSRZ/kYONE08uXp9nMDShP2avZMtH1Iyam1DzWhIXeeeQbOTiWgooAJ91IAAvkhyEbHcgofPDA1j6e1fAcuCpIh0y0VAufPHLYfNQ2nSGRIz4qoWw8wTcAPB91xfL+lirAE3Qd5XrnpQUwufn7cNyKuJVN1V3kX74mwEzvH82os1RhM8u5jNtoCY02l37NPn3WifA+KJlO8s5zjBMgwK7FkrMtUuRr8NyMEtBDzmWTiSgaSQ/WAf8aV1rjUSLotLa28pvJlpdwrNqVnYRRlHkdlf+7fqbJtgLLJRMHrEMKABtQ2Joq/MsWemW4aINUA2WXzxryV8yNax3WFKz2TPynPKH+W9Pf3/99QyL3x4SFBoREmkb4/8Fz/P77P6Jl5r95/7ewsrSaev//R5Cvj3+o7gKnfV4+vv6h+/b67tf9JnS/7n/uBt1fN8gC5X+2olM0RVM0RVM0RVM0RVP0h9B/AAaN3d8AKAAA"