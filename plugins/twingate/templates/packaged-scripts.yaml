apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"