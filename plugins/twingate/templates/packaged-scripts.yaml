apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"