apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"