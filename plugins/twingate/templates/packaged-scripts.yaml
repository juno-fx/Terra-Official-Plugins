apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: |
    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
  packaged_scripts.checksum: "58308c3fa4630ac6f4f0b7b5b1f82b5715c0c9354144163a308783b67ec387b2"
