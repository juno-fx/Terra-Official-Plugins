apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap-cleanup
  annotations:
    argocd.argoproj.io/hook: PostDelete
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"