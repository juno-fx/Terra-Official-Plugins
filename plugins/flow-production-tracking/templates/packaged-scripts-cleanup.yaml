apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap-cleanup
  annotations:
    argocd.argoproj.io/hook: PostDelete
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"