apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap-cleanup
  annotations:
    argocd.argoproj.io/hook: PostDelete
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "H4sIAAAAAAAAA+1ZCTiU69ufxj6oaSU5eZtI5Yx9KRqRsUwY24iKNMZgMpuZsWVrJFkiJkkUZU2KnAihUiGpLIVkK7JmKfsW/+HQ6XT27zrn/K/v+/yuyzzvvPf9/u7n3p5nnhcdRyNQGXQZ0D8IWTZUlJQWRja+HX95LScnL6sIApT+yUktwYXOwNIAAESjUBi/p/dH8v+loC/mH0un4/+pMvjr+ZdXklVezv+/gW/yb0+kuElTyQ5/q435pCorKv5W/pWVVRS+yb+inIoKCJD9W2fxG/h/nv8gY7SuIEQEwr4UROkhTdnjk/k/Xm72503LjDj2fT8UUhPjfqmvmY9hho8v+zRneLcm9CYRT7ianUDEr70ue4IDAZbvdl5xafU60Y3jJ/kFnj3beN4kLFEmIfCADXRdRAkXNOleQlTyCcydH4T2H74yHaNMqFHMH0fkg7u46HMkFJkVO6M++O6SEGWoKfW0lydlgMUZcbY7vOrmy8CGc0f21Ke9y99nRkrK7eK4px2uJ5Db81Qr9E5iSkjHQdIL4XvpqlFuh0ZHrxf5RQlHu9a/fS9plhvihxjQ0+azlhcpREh8dPGrWuf5YmT/kOTFCrf0fJH1ZeQDmczyInLsxaljmNax2+IsmOicIFNDSs+69+Gdep+Lo5E7Mm8gQ9e7S4RHR7/Y97Qpa25D7Jt2RMRj17k8AaaGk/bFpGdh8e/P3DfGiOd7EosKeN4jkUh+FEGrVGDqbFZ6Anlwlw1sx0xnWaSicPlR0sj7bI12ES1/dycrjFBz0A/f3dkWe7hszBLIKmrfp/vi/uCjPD6U1Mjq4qLzm09rXMkRLdA0JGmdPlXfoLBJxnx9Hp1Ye9b2lK5uL8/ePT7opsdJcyy/x5tZ3WM3AVCEeAQZWSnpSCGnqJ02VwpHex9/fMaT0HnssFAjB0t8zVVB44h8uuOh6egxzdqAY7n9Dmlr9BhdY+/c0Eaed/q7BzLf+KeE8XLsKU45p9rA7dpn5Jl+Nt/JIJe7jRf36oxnfNC9gg9gE6hasJ1b10fQHuZ2OYww1f/JODj/QwsqzZk+lZn7gViELBtYd0JItDYIOyBa2aGxhmdVd+wu3OuHTx6PKfTb8T8aWDex9gJ44+jE+/Lm1JHp/eJy+/dtfHuavCP8fZaWGbfhxmxLA0cVc3G5159fgj8K3oSI3zU7XXXVCG31CqvXBFYLurqLzD+boc3MJmzaGClLrvr8ebNojiVEiAflvnblioQGDZbkyvueb2/4TmkICPG024lxipRoJBS4nomZuX+7hRycLKmNerVVgBcZzEyCxxc1Xhcyg3Jzyl+uAe+w7B1oSANNbC7RAIGYoFtQXhAHEyT7W8Mjh3uzD1r1WHrj44bJcSZZLXHB+iL9hpFx5971E7LPINe9UWizOVlaJkipHeaEOR1phjlpenc8D4EGHhIPmvWusosR3vu4UcEZlZN8RI2560hVdTFu35qE0uxeFDii6K7zjt18nAWWIAFO8AMN4A+HByXBIiYYG5QT2g7KF/f5sn3WQcRddZuTGooJTyy15y6PcvUwJiSHxftsV/ymR787uLU6BlJHfY+x9ExdvG5qAiJySXSYOWIup5f5fdPtGPXyhrSp49lgpiMyHG1E0tpqbmMkS+4pWtFy8k+ZoL4L1VFUVKo5FQODaTaH8KZ/73I9LFOJF7mVtnOI8KqrMvzKUIm/H1rX7/T9pLILW6ChVXxgvinAixl2+p0F1//Aob88iK3P2KCpq7/SSzu+s49RQa3tPL6Gs+hwqV+UFrBzNSdzTCjedTr67cHXJeCjABTEDV7xTw4TdakF+khWsV6xTmKuA1gk+bZyvsueVl4kbGeRqcFkF72cqGyyyevZ3gneTB5YMNLhbJcx4RN+clrm43fCb/ULNwSK78dg3C9CpC9Jptf6yT6Q9JCAJhbrSa4U23a7IfAm94TiWW5bwi1jbIv2znxakDgKKfx2eM8GvfKONU8R3n7Igudm6ZzUi73M6F7DSM8h8VqMhW3IipjEQwALydiReWKoMn4LigXlcWRBmLyGpTMxcA+P/Frz0PVGWwSq5FW4Yaezco7qvojt8vn82fExwlnGv1Q3n+IOkqHqA6o1Fhs+U13rZs1b596GfQJ5ndJn8opHO52NuhdbtLP9Oy3U+WLv+fUhd0OgRtLtD/yZN57G+AC4Oc3cSsgD3WxV6OWk9BtN5rdGnrhdlBJMPm/vktKxqS/hcmeYb+RxRnddQpk+C2mffup6aA7G2Pki2nq3bnJOx5C8A4+U6FmxBjdhw/0bu8by1byGG1eq+vRk4/SNXE2SysrU93mrjh+rpvcnIA/EnhcQHMVgrGFz33vguVa4IX8oYfKqMv2GHYcrezZ1RcXft0odyPY62V7y8eOTNEWYXEdU2ev4WEP93IwrRQ6rWOiJ4X4VjuMtOpUpz52dU150rIuL4Ngy6UcISllpmOjs1uRS0b4+0ialY2N8zZvmWPA2ViclmtaHrtXjqbyxexe+wqlHASyx0g1lKIJuPHJQP9ZmJtI2Uc3dU1U6aPDVySjEmCrJw0Nw9EOdxSxX2+BrDdHDgi8n35z1sbrl+izt5kG1Z6M6BV0pnTazHg+E30zsU+XqKfI5zawoHdmEuj9TWa9YWHmUYqTtEsy03G9w/9KsU103IkR5j7WFeX9LYzb41ZUjblVTXQdMw9GD/Wl534tv91f3aoMH85La+9Ou7f9U3zCWujeOvaI6VkbMiKqyfNumWhv9A15eDtK6ZtTlXtLV9NJXEcFSDa3rn9aZnS75Yd/UWPhQT+JVPo40C6JbaoW0xXoz1xa5ki7VqNxXDQnD2ap0jh6G78wL4to1Op/bWNtJby2Dye0z/hTbC5weF5zIUzMfKodV3rS2eFZXSo4/pTzIzHf170reMexYnS20Ll5lR8fmKdtK+0ntDmFcfXkRWqxLmNJxKTmYKXqXGtmZVGnh9ej77aIIeqep+erkwamZAGsNkzU9Y3niU4RP23b7OKSs1E+888H22gur1oRRx1Bf+0GJ+iNn5u6TJEjPXxh7XZrhvpD0obJazjfvgtvtSpdPeufQVdU9CVZTlZmzRp/kiqeAkhOfV4BNmIX4XTlGzh6NgcIeYkf4RSPsROfOextgLJPKOtsJvEiJAO6OxHdhJ7IZG4prXm0fJHPBOBOiQLt0obzQwP0zPdfQSMe8l+mgjKyQWc/jz3xn13sHiqMioY1mzvk55TttNiVzhVmnS5Y+N7YaCEy81Ras2/UexaZdFVZo5Hzw4lW/G66t6uO9gU32udXeWpI1M+XD68Tctg8Kr69nNwc5zn8YkIZqm/isrq7VysAWY4dOhfKnqGvluhmZerUwm1q9B4jHTetbRkof8WeIiYQJhFyZRbAI1BlQSbNUYgkyM8OzOVPGCglIR6vNmsQo27Jm5kb9wlSROamuq+Weq1OGKa3TTSE71e9IInwHmw4gHHrqVr2veOvd7+AsydkG1oWG7b2ZNURx6q46hUvqqMeElmtQfHIvqTcWFWe2A5xtB23EmtAhKoXJPVutTp23cHyjdrtDpXN2M88WaKXsYfjIwU7u4+2N+JiwR1uQYgYdAddPBJ6EBt7thW97wzgqVVTUr7UzM92uUsK98dNDs5GBMEbNB8bQntb4osc9yX3WjS4pPDoGCaMHW4/j4+ICNKzCL7v1BVQ8J7luqo0+lvbMGNUVLFPV0Mb/qsoxKlfkniiPNWKkUMkz1Uspc3tQZIzimc4zsT0jWcPb9uhsGqPwBVYYQQP55Y0cmqn5BQqHmpJpjwuJuqoI+V6b94+KVAoSPeWLxqoqst3bTeNXtZrPfn5ZDJe6Lp08rnBgh3S8CnbDaH9NYyJ9iJsTjN59x0vKxyrZ3SIBV/FpxL9hqNzUN0BDIyI5LaJuoCEpz6uzedxs/0PQcysLVyko7/Y1eldkxr21XARfUFIF+SBXv+Ovq+71qOjOql412VHHyQSl37jjNzukdbdt6GO47OStwcirazNadfqMoLy3ODWvnPU5JGVDXx8I5VWsYNfKw1F9PYEHBeLOm5M2jtpvrRV2uiytcBh+PfP+1eobeT5mOK30UvlDBsG43VHOY5crUnhaPC5FGdjoffZsGkvtOBBLaW2lpWMKrnT2qhgUpdZNxD28DHctDDKfjhFHsaK9p/eqt6Qmx6gNN7PO+YTF75a4t1fCTT/pY5Xs7jOFNWDVS75WBRG8yM5H572f6UrJtBTyHg63d582yAJ8laM8YYyyyrbAUb1ivkkj4IHnz/bKaxv0dp16DR68tntiUy24+nzDEEd7isFHh+tcthkK3wlxFvvuPbcG7HeMGSgxqh0xJtshUw6qAtWC5ZSUInYXtOGZnKFxR7iMJ7cfmCyXcsAJaIql568EKaX5ROe6W7QkADU2pp4I0DFjBFSfdLJ6gl79ShZSbuJpDRrojFh7SpArpyy0ERIQcOBlMGhSQ/3j2s3TArOlATpy72/kKWQ9zZPz8wsu6X6yTRMK6/PrntHPW7FHG/jhvGIhRYp0Ld+jupUDBJqbs04UuR7e1xwyf2RDaaORGfuO+v0t57+l8z+ezKB5UCkEMkOa7vi3MP+EPzj/y8orKH9z/ldQUVJcPv//G9i6RcaWQJaxxdIdIXQ8A4DjIRCCPXAYgJMBmLiWgbYm2twYBlirAQxHPBkCADQSAKe52rOFSG0zDAqtiUEZoWFsAd6dwABkIfaErwk8UWgzjKaBgffXFAAgLUMgs+NOJOJp7HJj65mbGsC+pWQz/bej838fS/3/dT7+bht/8P5XXlHlF/2vpCS33P//Bn6t/7cC5lQ7LAMPULE4J6wDng5gyXbAYoUAbg54BgRLZQAuC0oLl0syuMeCGHA/DndhEIh0gEiwdcfZwt0JZDwNS8LKLt0g4HA4kuKXbyS2lS8yuiPpy7UT3oPuQaLLLX2n4cl2eNoC+U/6HmTcFwV3e4I7nv5FhnOh0Sk0WYBGJcnjqAQKMP8x76EZe5ZECg5LBFyxNALWloinQxbXKhskyhTxs7Vo4bU4nEqj2LngGAQKGc6gsSNDIDvAIAaa5mgtPbb6Vw/LmDlSGA4uZBgEpWWE/ka29IYdBmEb0McYGdvooAy0f0Xp1+xJ2+HpTgwKFQYxNTZcfHBe1+YnXZsl3Xnf2eFiwOWk3Xcp2ygrSrODAJv3HUlxIxMpWLuFtKIWU8demwEslUok4LDzNBA8zpECwBalbDpA04VBmTcP6LANAsZfDAKYRYPsKmBQgK/9gC2yLBn8UzTS0tIwyEIVwY0AmAyDRJURX/IWtrhVQBaJtd3nvWXM8/4uHcnJjkAD4FQA9vPp4eyAeQPzQVmkWogD29xS7UO+VA7sq1l4LdQRACfYkVznHzakuOIXnsT/yIK3A+wJ7JIC2AGZv73YHwuRBdhTweMYFJoHhOS6YF6GQmUs1YzMzp/PUYbtK86RRLED4KaAkpLStx6wjWtSqQABxyZm968LdTEymnYL0V6slx9nw/aXCsBd57dlYwuk97f/84H9wvLCXm/v+uPG/KVWv0T/MHKRXXv+x6M1BI0l4RF/mF+IFoVEYtfln9DUdsfjEOI/thgExXYRIT7fURAMnkYikLFEBIPmgodgPKhss1+VrhZ7WXKg0Ah4OsISbkwhshucDgPU1X/LD+RXQQJwNDx2Pn9YBvCNNpv9W4b/9uq9jGUsYxnLWMYylvHX8R+R8Ww7ACgAAA=="