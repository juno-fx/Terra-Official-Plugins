apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap-cleanup
  annotations:
    argocd.argoproj.io/hook: PostDelete
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"