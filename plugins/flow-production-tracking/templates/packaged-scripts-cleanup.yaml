apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap-cleanup
  annotations:
    argocd.argoproj.io/hook: PostDelete
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "H4sIAAAAAAAAA+1ZCTiU69ufxtqgpl1y8jaRyhm7FI3IWCaMbaSFNMaLyWxmxiBbI8kSMUmiKGtSyUkhVCpJKktRshUhspQtIb6XcDq+0zn//3edc/7X933d12We933u+/nd63O/7/NikZhkBpulAPsbSREidTW1qRGiueN/v1ZSUlZUhQFqf6dRM+TGYhOZAABj0unsP5L7M/7/UmJN55/IYoF/Vxn8+/lXVlPc9CP//wTNyb8jhe4uz6A5/aU6JpO6SVX1e/nftEldZU7+VZXU1WGA4l9qxXfo/3n+g83wBmIICQR0KYYzxFpA48PJP2FB6Pfyrivx0Lw/DqtD8DjT1TCfbQkmlHycMLlZFXaZApLPZydSwCUXFQ/xYeDK71znnVm0VHLlp8Mioo8frzxpHp6kkBi00w65NLJYAJl8KzE65RDhxi8rduw9Nxq7iVylmvcJkwdvF2BNUHE0XtyYVu+bMyvoffVpR7296D08/sjj7yIqLj8Lqj2xb+uL9Dd52y2pyTntfLf0IgxFczoe6YbdSEoNbd1NfSp+K0Mj2n3P4ODFQv9o8RjOi9dvZS1zQv0xPYZ6822VJQowMh/c/CuWej0d2NEne7rMPSNPYlkJbWcmt7SQFnd65AChaeiaNA8lOSHG1ZYztO28e+OF7+nBqA2Zl7BhyzxkImJinm5/VJ81sTzuVQsm8j5nIleUq+2idzr5cXjC22O3zQjSeV6Uwnyht1gsVgRH1n0gOnI8KyOR1rvZDrVhrK0kSlW8dD914G22douEboCHiw1hRUPwLz/dWBe3t2RoF5BV2LLd4Ont3nu583FyA4uKCk+uPqp97rpkvo4JVffokRe1KqsUrJblsijVx+2PGBh0Cm3b6ouvv588wfO/v5r3bugyAIuUjqRhy2Wd6bRUzaNWahF4n4P3j3mR2w7sXVHHx5NefF7MLDKP5bxnNGZIpzrwQE63U/piQ3b70Bt3vKnXje53PZmvAlLDhfm2FqWe0KgV5HSZemUcz3MxzhFsFiY9P+aVEHwr/z3cHKkZ4uDe/gG2lbteiSDOCHj4CZ73vhGX7soaycx5TynElvQsPbRCsjqY2CNZ3qq9WGjhu7jNpJd3H94fUul2ELnXs3R4ySn4ysHht6UNaQOjO6SVdmxf+foobUPE2yxdS0GTldm7jJ3VraSVXn55Bv8gdhkhfdPyaMV5U7zNc6JhPVwz+Pxmmsj4FT1uNnnVyihFWsWXL6slr+9CrBDCeSxZMC+xVpsnu+C21+tLfiPaoiuEWhyk+CWKtRPzOcdix25fa6SFpMjq4Z6vFRXGhnCT0QmFdRdXWCIF+ZXPVsE37OrsqU2HDa8u1obBuLCrSGEYHxem+L3hntOt8TtNhjzDT59MUuLNsxrjQ4wkuk2i4k+86SZnH8MufaXSbHf4QYkYvbqfH+WyrwHlouPT+iQUGbRHOnjcp8IhVnzb/ToVV9z1lH2a3M37KiqLSNsXJz7I7sTBIwtvum7YMp8/fxdMlB9+Rxv40+FOcYiEOcEO54J3QM6P/3LWMWs35qaW3WFt1cSHu/Qmzg4KdLCHZfulu+znfdejPxzcm5yDGIN+B3iGFm7el3UACaVkFsoKM3G9k/tz/bVYrdLa9JGD2XCuMzYCb0rVXWtlZ6pI6yic13j4X1LBeBOmr6qqVnUkFoXSaQgVzvjZ7WJ4ppowdi1zYx/5eXt5xLm+4gB/vIH/0dvJJafWIMMq5sPnjwDe3PCjb6wF/gcO/duD1LIry3UMjBZ46yW0dbHLGNVtBxfzF+594B+tC2xcxM8dWpHAGY15vftlMXw/gIQJwuf9ncNwTVq+EZZXZFikn5TjBJdIubYpz21rkzAWtbHQwvhzO6uUssl8lffjbcPCmUKoEKzT8XYz8kfw86jCh5/EXxsVLA+S3kEgeJxGyJ+Rzaj2V7wj6ymDTCoylF0gte5abdBlwWHV44L25KtmxEa9jXnMYGkcVvx1/9blhqWtix9hfPyx+U8sM/gZpzu5MZ0mUV590tUEa/vQebFJewAelr0h81BfecIaHA8p5MxDcIVNHozFoj0986qtwpaZrhGtUFYXRB3Nur7f4Glcu++XL873Ma4KAQ8M8ugeMAWGEaBRZb38C4NTM27VNPE6/CPM+4gRV1g6xuV49K24wo0tP+niThb5TPaHnOVB2snX3otkXnoU6wuQJnRyyhF3DLI1kGeTMy7VW10deOh+Wk4s5aSjW2rrqq7Es23hflEH2e9qEkuMeFjHjCMXw64TzFxP4223GKRcb+1TdhKSkzwuVesubrJjZftQnqZ3f90CDd+ObJKRKcc8uaREa7uPxqcDlazuROzOuJOiYoMEgi1q4mdPUGCeO/aXYq6wBte/37m/vGNVe3TCbZu0nmzvwy3FHz48TFdFKbVGl7xMiDMxyrlyrtBpIQ8/3N+tznewUb889Ymra+rT1qXxkXxrPvuTg1MXmCS5ute7lbUsi7JLbV2ZUPWqIQ6+jtdGj2F24asNhcovbdkMlrl0qMBlFrjjTCTwdft2G8XZjUXZJ2l6eGnIB/c+PxyNGdKgenqKDb6vsR4XaO59qS25V+zZ51fHfW2uch6nX96t+XhQP789tc1u3POO+Kvh7RoCHYW+R7llDwZW4W6Plb9QLSjfTzfVcwvh7tphfPvMuEvNO0zopq221lbdjXXZ8Ofn9rlXjLTvtIjA93an5/4svT5Ay7sZHSJMbelOv7Dj44vaobRt8VBHdS6PHJPU4Pk1jzTVBQQ+Oxuse8G03aO4vf6ZnyqGpxFW0z2qPz5a/Mv2kaGIvo6k8/P50q0p7mll8tbLLDmNSsXtGtE5z2sT+7M1WHwdbL+xp5Qli/W/NPPWU1/vCqG1jAXQ7U/xe55yoY2MvS/vV3/V1OhVWS776RH9TmYeJ6A9ZUO/c2X2iqUJ6htaV4/Ylzt+1msVJ70oLcRLtYvTW8+khHAlbzKi2pLLrb3v/bxeEsNqs7BalNI7MhZoq22+uGMoV3qE/HHdFl+n1AVGSTfe2194atOUOOgc5ufYK/Ni37GJ21QZ6pOnZt5nxgRPJb8vr1Tyyz3lfq3c7aPhCXxFZUeizUh55rjpR6WiEaD40Jd5cHNuAbj5uqmrZ12QuKfUPhHJSAfJiZM+xoRdySVtLWRhrEygYGvSm/BD2ezlRVXP1/fSBFD8idGwzQZIYWTQjrGOC3isc+6zDNiVrNBxr4OP/caX+QRJ46KQdZaueddLN9qtShEIt82QffDEzKYnKOlqc4hB+1scBLswvMDUdffp8/6XOE1anzqD6h1zKn10ZavGSvuXSrmv7xVf9gLaHLT4gH5AHqln7ruoslr3CrGI2HckTCRVSzfH3dTCu5Fb3+TTQzlo8aJx4ME9kStSEuGioefGMTwyYwxW3CCXVIzNvOLVkKlggwXkYzTHzWM32fPGJgb9wzWw19M4i5SeaNH76U2j9aEbtW7IYvx663dinDpqFr4te+3T7eQqy98MN0CGb7uc1Ud3eVdxhJTc+oIQVqpN9805o1VXWJTZAvA377aTqseHqhekdKy1OXLS2vmV5rVW9bbx1UJrkOWKe9EDu9sED7bUgbHh99ZgpYxbAy8eCjqMDLrZiV73ir1frrCwW3djZoZDuYxH3ce7lgM94eyq9+y+rU0Jhfc7Urps69xShfSNEwd3Nx0E4+MDtW0izrp3BZY9oXJWVcccSH9shmsPUaiobRZ5XuEcnSNxS1LIFjNQoOaV5q2WuT44Klb1WNuxuI6BrP51W/VXDdHnB5WZIoNElE2dGhh5+Sp76lOY9wsoBhoY5U67t/cK1fOTvJQLhyrKsj1aLBIWNlmNf3lWhJa7KJ/ySWXnBvkEdeLywe6quiRWnyA/HL/lhrecr02Kh3UiqezjQEBtX6mFX6C2dmRKemRNT21yrndbwyfLHXdhT2ysOXJI4fWLDc8pfPLRdRN7Sk8Tm484/5NITWWnZ9m7rMqFn1tr+LmwjEs3/Mf7dG82932IUPx8tTfq/JIrTfpdpkjhq/w654777pGzYy0LQgqrlkG1cnfQyFD0Tr606+rklYOOa6vFXc7Kq+xFX8y8fb7yUq6vJUk344HyHuMQ0pZo16GzZalCjZ5noo3tDL941Q+lte6Mozc1MTMI+efaOtWNC9NqhuPvnkVzCoKtRmOlcbwYn9FtWo1pKbGa/Q28E77hCVtkbm2TcTdK/lChuOVYQRVc44yfTX6kMLbt3kmfxwZyCo0FwnsjHD1GjbMAv03RXih2SXlz0KBh0fzPpsAdr988Ky8sN9x85CW898KW4VXV8MqTtX18LanGH5wuCthfUflpBX+R37YTi+H+B7hBMoN6kUOKrQqlsApYNVxJTS1yS34zyOUPi98nYPZ5/c7PpXJOJFEdqYy8BTC1dN+YHA/rxkSgys7CCwM7YIZBGlEPVw6zKp8rIkrNvWxhPW2RS46ICVwvCatDBAbufBYC+6yt9WHJ6lHR8QeB+kpvL+WqZD3KVfL3Dyl+93CdDhLV5f9uzCh33lY94JeTqgV0OeqFPM/KJj4YbGLCNkniYkRXQ+jkkQ2nh8de2b7f/y85/82c/0Eam+nJoJNpbHmW81+C/Cv9yflfUVll05zzv4q6muqP8/8/QWvXKNiTaQr2RJYzggWyATSIQJAdgb0AmgagpHWN9XTwVmYowFYTYDuDNAQAMKkAmslxhJhYPUsCDq9DwJniURAD9CCzAUWEI/lbAC8c3pKgY2zs8y0EAMgrkGlQ3CkUkAmVGyRnZWGMmgsJIf2no/N/n2b2/7f5+Kt1/Mn3XxVFJdW5+18Nagk/9v8/QL+3/9cCVgwHIhsEGESSC9EJZAFEmgMwXSGAuxPIRhAZbMBtSmjqcoaH9pxiAx4H0W5sMoUFUMj2HiR7tAeZBjKJVKLizASZRCJRVWfvqJCWWR7LmTp77QJ6sjypLKWZeyZIcwCZU+C/ynvSSLMCHo5kD5A1yyO5MVl0piLAZFCVSQwyHZj6cWWroV2pRBdwUgy6IdGZoBpx0nFLyHgKnUSkABwik0y0p4AsxHQLs8PiLDC/aVFTX8vRDCbdwY3EJtNpaDYTChiZ5oRCGOtY4XUNIfFvFitYOtPZTm40FAKna4qfw5v58I5CQAqMCKZmdvo4Y73fEfo9ffIOIMuFTWegEBZmJtMLpwAht1GTbmHp7jQKnegwlUjcdLKgbgwQGQwKmUScREOAJGc6gJrmQqiAjhubPokM6ENYgNmsXoAwrRfKO5sOfGsiCkF1cSAzATQDQP12nuQwd2Za4Yxt/5JGeXl5FGKqxNCmEN6Mu6jpR8ikr3oek2FhT7kH8WeKeFrbNHdS2R/qmC2Yb5V4fy0fNNmBypmDB60n0akMCsgG5afMMKFzwCkbwK8SoAPgSIbKCYAiNjk9vWWmQg9AIQNJbDrTcxoVWjxp4eyCOSHmAHQGe6acFDYC8tPL9KfkqZBmB/nZ+OpSQCJtEs2N8RUQcm7yGe44CTJz+Y2X3y6Dlnzr1VcOtEem4scAmVQyiwXZD0GSnKl0BwCN5oBMezoLBNAWgJqa2tyUfwUw+3UhAPWcr/HSYTAAMgmKBTTjxpiW1HGYKovp8p4xn8QA0BwApcAGmUyiwnf+g4X6rW6FGa85X18zZrfYrFt7sdNa9CZfhW0ReCIVxPxpQSJ06VQq9PL8L0jqeYAkjPTXzoDAQa5ipCcbAYIwGQ4akYJhM91ABMGTAan9ZlvqQk3Wic4kgyzMLrQZnQL1JRYK0NL6nh/Yb4IFkJggcbL0iGxgjjSEPhfhP/0s+kE/6Af9oB/0g37QP0P/BXQvhSAAKAAA"