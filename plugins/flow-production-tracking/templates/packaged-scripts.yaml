apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "H4sIAAAAAAAAA+2YB1RT25rHY2ihaUQRBJQYQVSkNylBkAAJJbQgqCAKBohAAiQ0QzGRjrQIiFSlCiiIgoAQERUQUQJIEWkKhCZNeme4s+auueO8++57s7z3rZnht9Y5/73OPuvbe5///s5Z3yHYuWNdiQQpwJ+I9DZKCgr/rtv8qP+9LSMjKy0PgCj8mZP6FQ8C8Yo7BAJwx+OJf+++P+r/XwrhP/y/QiBg/qxt8M/7L6sgrbjj/1/BD/7bO+O9JF1xDj91jF9MVZSX/z3/FRWV5H7wX15GSQkAkf6ps/gd/p/7H2aM0uXmEODYbnIjEXDTbX37ywFi3T4/sixM275OQcI10d4pE73sRDNMev33LcPnrZGPnDHY+yUZzph9+dI3mGBA2VG3XSl79wsdXLrJyfX+/cF4k6hMqYzQczbg/bG1LOCsFxkJ2TfQz57w6V28t5akiG2Vr1iCVQBHWAhbLkgcNXldffprCh9+tic3xJeEn6Iyx0aPxjQ/+hjadfuSWmfe14qzZi5ZZSNML7RjEFxlY++0Ip9l5kQwzrs08b8oUEnwurCwkE+jJPAnenZ+GRIzK4ugwKYQ2uzWsgJVMNEZD0rzflLTvN6s2N1Gr4IKAd563LkicgMNl3x39Rq6f/GpCBUqtMVN1hBHWI+/etbpf3ch7kTRQ3gkr7doTGJi09l3PcVbB5I/D8Ji33hulXORNZy072a9j0ofulVtjBapIDnTKtmG4HA4JxKrVce1Gl1ckIGbPm0DPbE+XB8nz99w2WV+qERjUEAr0NvJCs3XG/bk0LNjyRfrFy0hxbTBs7pN1dOvy9mR4vN7a2jxh0M07pUKVWoaumiFBHV2yQlKmfOWE5zbo22DdHXH2c6o+aN63mRtUSlvDlNHFx9BALEisTg4XcwRj8tRDTFXiEH5XX9zi4QdvnaRr5uJKsJzn9s4toLgeGEtcVGzPfha2aRDHg+COLL41QtlRHo2OTpV9DkwJwrEpFaTc1uli9VzwohUEF3hZFDGOgCya7tFSg97UfkNaAJWDb/qNTIDUCMfl0Hzuwa+XQJWfOtD5rkRVovKvjnT4PVT+2/wCbWHXZkSojM0eNj2jCaftvv06u2bRbnJq5yvp/Yv77sDPLiwPNTQmzu/picio3f24JcQ3ImYoWItM1bDgyWWBo5K5iIynzY+Ame4H3GIPDcLab5vhLJqu4LoAaqG3T+N49ws1CaXYAUPxknjmjc2DguVWnLwsSG99+3eldGlQRXbXU368jBgVYOLj23wqjCzQK1GRqXnraT16qd9uPBsMW1k21EuEDycnCWRTuvO5zMDszLLprYCT1iOT3XlAZYP12oAAGTAYzAIwEQGSP+evHZ4sfmyH0FFLC0ZZqeZFPelhesLTBrGpd3+OoktuQXf/1luwOZmXT03vn2OGep0qRfqpOnH+BABDr0gErbp13w1if/Mm245N2Rp9iVV8ulLzS01dmd5MupKxpHAWNpztxPK7MyVlgAuZuBLDcgfysvacAETtA3SCXUVzJ62kWpffB72XN3mpoZ8xltL7a3UBZYx4rLYnMiE7a7fXdHfFa9+x1DXhYBrVISph+8jTYiATBYBag7bKh0nn+p5mqTe0JW3er0ESHaEx6CMXLSOmtsYSePGaLv6bv5DQ7h+jdSRl1doDUqCQjV7I0AFpzzyo4oUQPCj7idnsW0j9Jh7s7WBFJQuJaQ6q/7OEXBkMzuQfRXiS44K+WrB8j9Y0D8twryFBzR19Xf7aqcPTxAbXduHr/Mw0y7WURK0ICf3MpMX+dI91xK/nP9UC7wMAQNYgbv+TFnuyK3Uh1NrEDU6mWUOQIHsp4oVHmr9IDj0JM3UYGWE0OCsaCLo+/7MMqiIDRoOd4geMcZ+x6ysSc0c4v+iX3UgVEQPjfa+yyGZIlbQTpF+KeYjCs6sQYjtFj72tCv0EeuyfDSrLfax8ZU+7ZMV7mEiSDj/lzm1A4gGBs87mB8FXvnBrIDZ9e44OXHcMI40K9KOtrCN2JWUeQFChRNPFN2YpacfQVLBbI5UDjLIsG49ScLHp6LdPJLX6AhXs6wSKzSkuPSyblPyiP/GhuMbmJtUYJ1uBd4bIOWqD1FptTiw4erZsWnev/Ul6jvAN0ifDBJJdIpOeJFMOzl4SAsZX+P3y/uh7ECoRtbTb5xFD98l+UPstjTL6BwvdUtUwKlZBQ97zB/Pv/W6K86dHW/vkcMQnMhIHY4KiLtOHO3IqNenwu0LgvIjS9HGbndR1sq62aWMWVkHNnGhaOEuL35DvYMjixWqvnPdu1X8x0rs9I08TbLq69XP+qksXWshTGbAzyXHc3EvoNHW0K1TPhiWXV7wJ7VkkAqZMuc4Rx8THElIr7bKnSrxvTlYOzPzNk8eKsNIqP+UnmyoX1Z4j+awh4panptUYrrep0PP+eDmltPE2J8Wy3RkhYINy9ltmOnm1ePROMgbZ5PDOJje+rk3GXiMOoxPdJ9AtSPY6A+VT2MancbkgKK7vZCGAqjuS+f1k23W42wzVb1JKpJh0203E2CLKi4+PtwL3zosNlkGpj9pCF3k/rjyOdrf6rHn+7xH51XfL+hUjuQM22z6vOT/vHxWhWWM5h9CbqybF0RWr9M75avol/FG2h7hZEs9g+qUTaeOUViEopq1hflkX3cJsO3eJa/m1ZFzpjGo6cm88lMixwPVfQckwkEug5N5D/S+d3Yt5p5J236jOtJj14VUqAEDq/3dgcEfU8O0HhiNeNeO9HwMkIdRVSI7Jtd0Ntdqn5xdXYyZHcu8z86UZ+HsldsoacFr5tknUzuiklDW1pUxV6JCYBojBqw3Oe/j0dkYoB53+WIZjhtcD8Tb3mH2ueOEW13/Rp9T+tzfR2qhiy29w78sqvAMHMk+MefYUsK3P13pBOPwqi3dfkWbwW/X2UBDCY/w4xkp2eFkoeeuccNZdAvf16eOC8EIw6bme7OnV9eDrTVMeMYWy0VWsd+PKfs75OzWz3z2zfZBk1V/xoJjZID9tGjnpVtb1S6iLh+ajH1T1lnvZH2jt8gElN/xekr3+I64jWpuGcuwWqUXbRp9l6lZhdTe2NgFNCFXYU6XGrn5dIfy+whf4hSKvSq0Fe9ngLbMqh8exILgosGsjMyvUTdKiAdqWtuOT+NYoMwZCYDTumAQOFRvfewBCu5Y/rEAUFgcsUm6/j5gk9cvVAQZB+42c6sobThpI5jNEmVdIFb3wdhqKjTz8UC47sgQcjvsnqgqI7fzd+9THnr2qy+Nh/bYl7X4aYm1rjfM7Rf2Oj7Nz9u5nRy4tMA5iCRY28R/b0u7VuGVmiuzQZGcOepaZV5Gpr595J5+vynn66adffN1rzkLhQWiuCLubcKoWNd1QG2veGYtvKiQ1FskZQWHSCaqbpokKdpS17cWKFEq8NJcz70yH9Txc/j+tZ6Ik+rPxGAB0z3nYA5jHXuGGr/4TTq4iTEPAHXBUWceFc/inUabg+yyGJ3oyAYNvH9Zino3raZoEMI8cN5GuAcVoVSVPXbUKijewvGz6lOG0vDmYbYjYLr0RYn588Os1we7MUlRr4/AhQ0Ywfk3Qm+CQ5+PSxz7TLwsTqNNap0sKrhKF/Xu/v7KbH4qitj6jTir1p9OezOWPWHd7ZHDpmOQsXC+/zomLS1Ywyom1WsiuPGDi6dge+K1vPfGyJFwqeauAc62ZseEMoEXQmzWsPkqBVKur0LR8bC4JPlbw7eSx+aL546p6Qgu4tlDG43AoZyyRg69rhWVchd6st3fVDnrqsBkx22GXtOUKjNJsrTF5sYS70HT9D395psbH2skxPMls5fkzp2QTFe6cmBhsrU7kzDLygxEKT/zFfe3yva2yLBr/D4f2DXbYBoQrKERm50X2zHVlVXuO9y7ZKb3CvDBysJTHAw6zoO4J7Xkp+XB3YTP5WbnuH+Is6Nl3KdxtLhlzwqjg5kMKHj4jLI5q/V8YHYmRnrl8XTc/X2F/ToTRmDQY2bNe9H+F8RtCLyhYJB84/ZeebWgj+B6WSnidjjr4IL90XZ+p1RJuYsS+UXV91selvub2WkV1MleMAi3U05wW0xtzGHr80lJMLBBbJB6FnMZ55Lx/f3uBejKe8PjSga03I7ltFepEp5VYeZrSSJIaqLf2hn1vtzsJNW5Xupt/6h0ZdEXZ0S99LNmmqWVb1W1AlVSAqwqY0Hw4dfxfu91xaX6qkAXY+y91wyKIQGKCSQosZ4+ELqAqGFfMYK8JP2Xb+WDA4jTQZ+A0w+UlwXbgS3xXbNMgzkGMw75LLaFcof4mGsCztzmAVKukUNFF7RjF6UZUg2AZkA7UEZBIVa5cgBDZo5Mu8RivHL83EqDuIMdl6ZwQcVugEKef2KZt0VfBqTVxpQEA1wzhoH1XW62LBNa2qQ5GkxI1oCp4dh9QdwspfWR3RzBwec+hgNWNNRn9h1e49qsC9aRGXpYLlf8rlyGQgmvHX17TBMMnaCMruuX71LThjyJl6/Ci7s8qPBp6WcCALa2rDMF8mMmeiN+KdmQ2ih44dnLlJ9S//1a/2NwRHcfVzwWR5QkOP6UyP/JH9T/0rJyij/U/3JKCvI79f9fwdEjUrZYnJTtFYIjBwFDhEhgODiw9pCLEAkcBCqiZaCtiTI3hkKsVSFERwyOAwJxd4FIuHvab3fCtc3QSJQmGmmEgm53YLyxRIg0hz32twFISJQZWtPAwO+3ISAQSSksbvu5Oztj3Le32/Z95qYG0B9Dbkf6Vz+d//v8mv+/9eNnj/GH/3/lZX/MfwW5nfz/S/hb+Y+xc8RDoGgMgYjFOUD/1TPcYYcddthhhx122GGHHXbY4Wfwb691IkkAKAAA"