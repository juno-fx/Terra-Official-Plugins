apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"