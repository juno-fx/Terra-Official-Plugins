apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"