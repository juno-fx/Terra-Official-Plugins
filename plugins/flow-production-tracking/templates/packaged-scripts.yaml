apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"