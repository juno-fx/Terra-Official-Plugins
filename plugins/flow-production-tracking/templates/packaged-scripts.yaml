apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"