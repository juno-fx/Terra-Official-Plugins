apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"