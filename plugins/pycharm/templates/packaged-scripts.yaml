apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"