apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "H4sIAAAAAAAAA+1Y62/bNhDPZ/4VrJoPdhdRTmInQAcXyGwH9RY4QR7FsCIwaImy2UiiSlJJ3CL/+456WXbsdMXSFlt1X/TgvXi/u+NDuZLHWjlb35BaQIeHnfQJtPp8/L67u9c62MKdb+lUQYnSVGK8JYXQT/F9afw/SirHnyrFvlUafD3+e53dVo3/96AV/OO5O6MyJPH8GW0YUA8O2pvwb3fa7RX825399hZuPaMPG+knx9+yLPSWRl7AFOYRxCIIeDTFZ/OeyQM8mePfmf5NUhhDhhe9xEp7iIexkBoLhXwpQqySSSyFyxQoyUZkEmVDMdWzgE+K/2fwaZTsSy8b10xKWo4GyZRHCCE3gIQsvBhmfjHZyMabrxEGMu6YZ85V/ktfxrdMKi6iMe5ia5e0SCtjHtOAU5X+LeZYqs84uCsiMzzTOlavHYdHmkFQPtgqiY2T5APTkzQgxBWhM3OdRDE55iGdMuV0gpZ/cir6N8d38Yer8V9/JIen/pTE0TTT7rGs4nhm5GyuZ/DmsVsWiDhkkcbD/mAp7CQTdKlmUyHnRupC+PqOSob7C7mMS9OpAo73FveYtYOtONVv3iomzGc5Ces6FfQ5C7xUNP1M45oGm6QjDSuPp5F9l71i4Zd5okWRPQRzwgjea+21yS5pA79kHxMumdc9poFizZ0NBiAymkdU50b6i0/sgbirYfJVbZcyKZRdozy2Po4l8wM+nemGYoG/g19ROVXweHVzZ96a2H6DJ0IEr0svijQy1Jsx9wZzH+sZg1jKKdML45jdc6UVhmrBt5BGHiCSMgJfYuKqINmhjXpkrW5TOAIwg/mkoYpcVo4ZX0keYcAg85WA9aW4lzFtLgtWIgfCpsIaVQ3VwDabBLI/ForfN5qo4lsxofIXBCES+pGBRdwMQQYpht/RIGEDKYVsWCOBvXXIATDiFpLSsypmhSIhvWHApBqrhnaycI/FTYb0AuI80Z4AeCQith7gvriLAkG9FMQkiinAbSDM83g9cvkaOV5MpmtcN52N0Ikyz4ZvfR6PfR6w8fjBIcTJZVahCsR0yiThkS9A5AQ8Md02Z8ZpQ/z8yNxDRQvA0liGIImWfxjyrQlVs3WqihXe5kXXIyljJQEf8s8KGA/WziMbagZtMcXm8Zhr6iir9+XBJpFMJzJyhceWBl50cav80VyXZedJpHlY5NkxhVh7lb5TQGhVMiWJ/k2uXBXSaYbEWbNanyCPoT1nIeQ7YJvFMl92Hp6tdDfmQxqwdTlhyLegV9vS/2cIp14+gbKhjUgb2oi2oa9E3K9ALk1w2UpoCawnjIKYZFDfWopkOkuRA2Cypq2hckE6pFECqM4LNVyTalNiMJVlb9bAe5G4ZrfjJws93oo/RcZYzR+9x3uKiv0/LF9yHgvY7EA/eGYbX9j/w6q2t7L/3z/s7Nf7/+9BL184Ex45ZrlAcALENkMIesp7bEfY2u6dDI5GV2cWvv7VlFIEZZE2kFsfBvuDi8vh6OhyeDoyrRCWaw0V7fOqgs/D0cXl0cnJQ1UFxsRZWn6s7XeD8wujZ1UtaPvREfp/U1H/VTye28YX7n92Owed1frvdHbr+v8etKb+X5ZbqjvYhCAaa5zE6dmAuTOBrco1gWGwUo5CxJ5nUujk6GrUe9tdqmenqHNnm90zN9F0EjALDXunoxXG8h7KnJtzu8OF3bJf5EPVw+JyA0Guhx0dxsh4he2P2D7FxRa40EIgA8j0E7bPUtbF0d/LTwu260Urx/7sYO1sUGWhQGE7oMidhcLDv9ynijdxFxMc3GtJXW0mWMyfwOk/vIHtO7ZjvD6WFjIJfP8JevJTRrDdWwqNg3Ln7HN8eHiI1+rezGLucGgcZ7clkDhJjNwY27fQ2levEg1eS4azPegtXg85bEpvtIhL2N/3sx94YLYo1yi/feiWPo5oyLpnmXSZGagnQnMmLweG/QEaQNJ1t7PMREPXKDG5hy6ZDCF9gq6GfS66nMesexTHAXfTjEK97OqFM9X90z4TAZVcWfjNG/yU/xBeqpc5XhVjP7roa6qppppqqqmmmmqqqaaaavrp6G8C4WJNACgAAA=="