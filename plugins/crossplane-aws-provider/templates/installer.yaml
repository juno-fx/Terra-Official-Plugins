apiVersion: pkg.crossplane.io/v1
kind: Provider
metadata:
  name: {{ .Release.Name }}-crossplane-aws-provider
spec:
  package: "xpkg.upbound.io/crossplane-contrib/provider-upjet-aws:{{ .Values.version }}"

---

apiVersion: aws.crossplane.io/v1beta1
kind: ProviderConfig
metadata:
  name: {{ .Release.Name }}-crossplane-aws-provider-config
spec:
  credentials:
    source: Secret
    secretRef:
      namespace: {{.Values.secret_namespace}}
      name: {{.Values.secret_name}}
      key: {{.Values.secret_key}}